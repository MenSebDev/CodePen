// @forward './utilities.scss';

@mixin cssVariables($variables...) {
    @each $key, $val in keywords($variables) {
        --#{$key}: #{$val};
    }
}

@mixin rootVars($variables...) {
    :root {
        @include cssVariables($variables...);
    }
}

@mixin pseudos($content: '') {
    &::after,
    &::before {
        content: $content;

        @content;
    }
}

@mixin crosshair($color: #f00, $size: 1px) {
    body {
        position: relative;

        @include pseudos {
            position: absolute;
            background: $color;
            z-index: 10;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        &::before {
            height: 100%;
            width: $size;
        }

        &::after {
            height: $size;
            width: 100%;
        }
    }
}

%D3 {
    position: absolute;
    transform-style: preserve-3d;
}

%flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

%grid-center {
    display: grid;
    place-self: center;

    > * {
        place-self: center;
    }
}

%flex-3D {
    @extend %flex-center, %D3;
}

%grid-3D {
    @extend %grid-center, %D3;
}

$PERSPECTIVE: 400vmin;

:root {
    @include cssVariables($perspective: $PERSPECTIVE);
}

*,
*::after,
*::before {
    margin: 0;
    border: 0;
    padding: 0;
    box-sizing: border-box;
}

body,
.scene {
    @extend %grid-3D;
}

body {
    height: 100vh;
    width: 100vw;
    overflow: hidden;
    perspective: var(--perspective);
    background: var(--background, #000);
}
